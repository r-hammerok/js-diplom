(()=>{"use strict";function e(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const i=function(){function i(e){var t=e.main,n=e.wrap,o=e.prev,r=e.next,s=e.dotsClassName,a=e.prefixClassName,l=void 0===a?"uni-":a,c=e.slideToShow,d=void 0===c?1:c,u=e.responsive,h=void 0===u?[]:u,f=e.position,p=void 0===f?0:f,v=e.infinity,m=void 0!==v&&v;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.main=document.querySelector(t),this.wrap=document.querySelector(n),this.next=document.querySelector(r),this.prev=document.querySelector(o),this.dotsClassName=s,this.prefixClassName=l,this.dots=null,this.slidesToShow=d,this.options={position:p,infinity:m},this.responsive=h}var o,r;return o=i,(r=[{key:"init",value:function(){this.wrap&&(this.slides=this.wrap.children,this.options.maxPosition=this.slides.length-this.slidesToShow,this.setWidthSlide(),this.addClass(),this.addStyle(),this.next&&this.prev||this.addArrow(),this.dotsClassName&&(this.addDots(),this.markActiveDot()),this.controlSlider(),this.responsive&&this.responsiveInit())}},{key:"setWidthSlide",value:function(){this.options.widthSlide=Math.floor(100/this.slidesToShow*1e4)/1e4}},{key:"addClass",value:function(){this.main.classList.add(this.prefixClassName+"slider"),this.wrap.classList.add(this.prefixClassName+"slider__wrap");var t,n=function(t,n){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=e(t))){i&&(t=i);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==i.return||i.return()}finally{if(l)throw s}}}}(this.slides);try{for(n.s();!(t=n.n()).done;)t.value.classList.add(this.prefixClassName+"slider__item")}catch(e){n.e(e)}finally{n.f()}}},{key:"addStyle",value:function(){var e=this.prefixClassName+"id-slider-style",t=document.getElementById(e);t||((t=document.createElement("style")).id=e,document.head.insertAdjacentElement("beforeend",t)),t.textContent="\n            .".concat(this.prefixClassName,"slider__item {\n                flex: 0 0 ").concat(this.options.widthSlide,"%;\n            }\n        ")}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}},{key:"renderSlider",value:function(){this.wrap.style.transform="translateX(-".concat(this.options.position*this.options.widthSlide,"%)"),this.dots&&this.markActiveDot()}},{key:"prevSlider",value:function(){(0!==this.options.position||this.options.infinity)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.renderSlider())}},{key:"nextSlider",value:function(){(this.options.position!==this.options.maxPosition||this.options.infinity)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.renderSlider())}},{key:"addArrow",value:function(){this.prev=document.createElement("div"),this.next=document.createElement("div"),this.prev.className="fa fa-chevron-left ".concat(this.prefixClassName,"slider__prev"),this.next.className="fa fa-chevron-right ".concat(this.prefixClassName,"slider__next"),this.main.insertAdjacentElement("beforeend",this.prev),this.main.insertAdjacentElement("beforeend",this.next)}},{key:"addDots",value:function(){var e=this;this.dots=document.createElement("div"),this.dots.className=this.prefixClassName+this.dotsClassName;for(var t=0;t<this.slides.length;t++){var n=document.createElement("div");n.className=this.prefixClassName+this.dotsClassName+"__item",n.dataset.sliderIndex=t,this.dots.insertAdjacentElement("beforeend",n)}this.main.insertAdjacentElement("beforeend",this.dots),this.dots.addEventListener("click",(function(t){e.clickDot(t.target)}))}},{key:"clickDot",value:function(e){var t=e.dataset.sliderIndex;t&&t!==this.options.position&&(this.options.position=+t,this.renderSlider())}},{key:"markActiveDot",value:function(){var e=this,t=this.dots.querySelectorAll("div"),n=this.prefixClassName+this.dotsClassName+"__item_active";t.forEach((function(t,i){i===e.options.position?t.classList.add(n):t.classList.contains(n)&&t.classList.remove(n)}))}},{key:"responsiveInit",value:function(){var n,i=this,o=this.slidesToShow,r=this.responsive.map((function(e){return e.breakpoint})),s=Math.max.apply(Math,function(e){if(Array.isArray(e))return t(e)}(n=r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=function(){var e=document.documentElement.clientWidth;if(e<s)for(var t=0;t<r.length;t++)e<r[t]&&(i.slidesToShow=i.responsive[t].slidesToShow);else i.slidesToShow=o;i.setWidthSlide(),i.addStyle()};a(),window.addEventListener("resize",a)}}])&&n(o.prototype,r),i}();function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s,a,l,c,d,u,h;(h=document.querySelector(".clubs-list")).addEventListener("click",(function(e){if("P"===e.target.tagName){var t=h.querySelector("ul");"none"===getComputedStyle(t).display?t.style.display="block":t.removeAttribute("style")}})),document.body.addEventListener("click",(function(e){var t,n=e.target;if((n.matches(".close_icon, .close-btn")||!n.closest(".form-wrapper")&&n.closest(".popup"))&&n.closest(".popup").removeAttribute("style"),n.closest(".fixed-gift"))t="#gift",n.closest(".fixed-gift").style.display="none";else{if(!(t=n.dataset.popup))return;e.preventDefault()}document.querySelector(t).style.display="block"})),a=document.querySelectorAll(".main-slider .slide"),l=document.querySelector(".main-slider"),c=0,d=function(){a[c].style.display="none",++c>=a.length&&(c=0),a[c].removeAttribute("style")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;s=setInterval(d,e)},l.addEventListener("click",(function(){d()})),l.addEventListener("mouseover",(function(e){e.target.closest(".main-slider")&&clearInterval(s)})),l.addEventListener("mouseout",(function(e){e.target.closest(".main-slider")&&u()})),u(3e3),new i({main:"#gallery .wrapper",wrap:"#gallery .gallery-slider",dotsClassName:"slider-dots",slideToShow:1,infinity:!0}).init(),new i({main:"#services .services-slider__wrap",wrap:"#services .services-slider",slideToShow:5,prefixClassName:"srv-",infinity:!0,responsive:[{breakpoint:1200,slidesToShow:4},{breakpoint:992,slidesToShow:3},{breakpoint:768,slidesToShow:2},{breakpoint:480,slidesToShow:1}]}).init(),new i({main:".advantages-slider .wrapper",wrap:".advantages-slider #adv-slider",slideToShow:3,prefixClassName:"adv-",infinity:!0}).init(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.getElementById("card_order"),n=document.getElementById("price-total");if(t&&n){var i={mozaika:{1:1999,6:9900,9:13900,12:19900},schelkovo:{1:2999,6:14990,9:21990,12:24990}},o=function(e){var n=t.querySelectorAll(".".concat(e,' input[type="radio"]')),i="";return n.forEach((function(e){e.checked&&(i=e.defaultValue)})),i},r=function(n){return t.querySelector('.price input[name="promo"]').value.trim()===e?Math.trunc(.7*n):n},s=function(){var e,t=o("club"),s=o("time");e=r(i[t][s]),n.textContent=e};t.addEventListener("input",(function(){s()})),s()}}("ТЕЛО2019"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",n=document.querySelectorAll(e);function i(e){var n=e.keyCode,i=t,o=i.replace(/\D/g,""),r=this.value.replace(/\D/g,""),s=0,a=i.replace(/[_\d]/g,(function(e){return s<r.length?r.charAt(s++)||o.charAt(s):e}));-1!=(s=a.indexOf("_"))&&(a=a.slice(0,s));var l=i.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(l=new RegExp("^"+l+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=a),"blur"==e.type&&this.value.length<5&&(this.value="")}var r,s=o(n);try{for(s.s();!(r=s.n()).done;){var a=r.value;a.addEventListener("input",i),a.addEventListener("focus",i),a.addEventListener("blur",i)}}catch(e){s.e(e)}finally{s.f()}}('input[type="tel"]'),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"process-send",t='<span style="color: #ff1f1f;">Увы!<br />Что-то пошло не так...<br />Мы уже работаем над этой проблемой!</span>',n='<span style="color: #cab5b5;">Загрузка...</span>',i='<span style="color: #21d639;">Ваша заявка отправлена.<br />Мы свяжемся с вами в ближайшее время.</span>',o=function(t){var n=[],i="".concat(e,"-input__error"),o=0,r=0;return t.querySelectorAll("input").forEach((function(e){var t=n.length;"name"===e.name&&0===e.value.length&&n.push("Имя не должно быть пустым!"),"phone"===e.name&&18!==e.value.length&&n.push("Телефон должен быть в формате +7(xxx)xxx-xx-xx!"),"checkbox"===e.type&&e.closest("p.personal-data")&&(e.checked||n.push("Не дано согласие на обработку персональных данных!")),"radio"===e.type&&(o++,e.checked&&r++),t!==n.length?e.classList.add(i):e.classList.contains(i)&&e.classList.remove(i)})),o>0&&0===r&&n.push("Выберите хотя бы один элемент!"),n},r=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},s=document.createElement("p"),a=document.createElement("p");document.body.addEventListener("submit",(function(l){l.preventDefault();var c=l.target;if(c){var d=o(c);if(d.length)return e&&(s.className="".concat(e,"__error")),s.innerHTML=d.join("<br />"),void c.insertAdjacentElement("beforeend",s);s.remove();var u=new FormData(c),h={};u.forEach((function(e,t){h[t]=e}));var f=c,p=c.closest(".popup");!p||"callback_form"!==p.id&&"free_visit_form"!==p.id?"banner-form"===c.id||"footer_form"===c.id?(f=(p=document.getElementById("thanks")).querySelector(".form-content"),(a=f.querySelector("p"))&&(a.textContent=""),p.style.display="block"):f.insertAdjacentElement("beforeend",a):(f.textContent="",f.insertAdjacentElement("beforeend",a)),a.className="".concat(e,"__success"),a.innerHTML=n;var v=!1;c.querySelectorAll("input").forEach((function(e){e.value="","radio"!==e.type||v||(e.checked=!0,v=!0)})),r(h).then((function(e){if(200!==e.status)throw new Error("Status network not 200!");a.innerHTML=i})).catch((function(e){a.innerHTML=t,console.error(e)}))}}))}(),function(){var e=document.querySelector("nav.top-menu ul.hidden-small"),t=document.querySelector("nav.top-menu div.hidden-large"),n=document.querySelector("nav.top-menu"),i=t.querySelector("img"),o=document.querySelector("nav.popup-menu");if(e&&t&&n){var r=function(){window.innerWidth<768?(e.style.display="none",t.style.display="block"):(e.removeAttribute("style"),t.removeAttribute("style"),n.classList.remove("top-window"))},s=n.getBoundingClientRect().top;window.addEventListener("scroll",(function(){"block"===getComputedStyle(t).display&&(window.pageYOffset>=s?n.classList.add("top-window"):n.classList.remove("top-window"))})),r(),window.addEventListener("resize",r),i.addEventListener("click",(function(){n.style.display="none",o.classList.add("active"),o.addEventListener("click",(function(e){var t=e.target;("IMG"===t.tagName&&t.closest(".close-menu-btn")||"A"===t.tagName&&t.closest(".scroll"))&&o.classList.remove("active"),n.removeAttribute("style")}))}))}}(),document.addEventListener("input",(function(e){var t=e.target;"INPUT"===t.tagName&&"name"===t.name&&(t.value=t.value.replace(/[^а-яё]/gi,""))})),function(){var e=document.getElementById("totop"),t=document.querySelector("section");if(e&&t){var n=t.getBoundingClientRect(),i=n.top+n.height,o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show";"show"===t?(e.classList.add("visible"),e.classList.remove("unvisible")):(e.classList.remove("visible"),e.classList.add("unvisible"))};window.addEventListener("scroll",(function(){window.pageYOffset>=i?o():o("hide")}))}}(),document.querySelector("body").addEventListener("click",(function(e){var t,n=e.target;if(n.closest("li.scroll")){var i=n.closest("li.scroll").querySelector("a").getAttribute("href");i&&"#"===i[0]&&(t=1===i.length?"body":i)}n.closest("a#totop")&&(t="body"),t&&(e.preventDefault(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"start";try{document.querySelector(e).scrollIntoView({behavior:t,block:n})}catch(e){console.log(e,e.name)}}(t))}))})();